## OCI Open Search에 데이터 입력 및 Indexing

Oracle Live Labs의 웹문서를 우리가 생성한 OCI Search with Open Search 서비스의 index에 저장하고 검색해 볼 것입니다. 

이전 S01-데이터파이프라인 워크샵에서 Oracle Live Labs 웹페이지를 크롤링, AI 번역을 한 후 JSON 파일로 저장했으며 이 문서를 OCI code editor에서 파이썬 커맨드로 
Open Search에 입력합니다. 인프라로는 Container Instance를 사용하며, 컨테이너에 FluentD를 설치한 앱을 만들었습니다. 

* OCI Container Instance는 서버를 관리하지 않고도 컨테이너를 즉시 실행할 수 있는 서버리스 컴퓨팅 서비스입니다. 
 
---

1. OCI 클라우드 홈페이지로 이동해서 Developer Services 메뉴에서 Containers > Container Instances를 선택합니다.
![2-1](https://github.com/oraclekr-data-platform/ODWS-S04-ADB-Data-Visualization/assets/150219167/14b8cfd3-8c8e-4318-b076-d4f309116508)

2. 리전, 컴파트먼트를 확인한 후 Create Container Instance를 클릭합니다.
![2-2](https://github.com/oraclekr-data-platform/ODWS-S04-ADB-Data-Visualization/assets/150219167/230e18fb-7256-4fc1-9ee4-2983a087b40a)

3. Container Instance의 Name, Compartment 선택 및 Region을 선택합니다.
![2-3](https://github.com/oraclekr-data-platform/ODWS-S04-ADB-Data-Visualization/assets/150219167/d61fb44f-51d4-4149-af2a-89f5f5824e95)

4. Shape은 CI.Standard.E4.Flex 을 선택한 후 OCPU = 1, Memory = 10 GB를 입력합니다.
![2-4](https://github.com/oraclekr-data-platform/ODWS-S04-ADB-Data-Visualization/assets/150219167/d0d95c5e-d337-4dad-987e-cdd131bf7164)

5. Networking은 기존에 만들어놓은 VCN과 기존에 만들어놓은 Public subnet을 선택한 후에 Next를 클릭합니다.
![2-5](https://github.com/oraclekr-data-platform/ODWS-S04-ADB-Data-Visualization/assets/150219167/ba918830-4e10-4aa3-9203-2c297dd18115)

6. Configure Containers의 항목에서 Docker Image를 선택하기 위해서 Select Image를 클릭한 후 외부저장소에 생성해 놓은 이미지를 입력합니다.
![2-6](https://github.com/oraclekr-data-platform/ODWS-S04-ADB-Data-Visualization/assets/150219167/e15978da-1c3c-4c9c-8e1b-f6d895242980)

7. 새 창이 열리면, External Registry를 선택한 후 저장된 docker image를 가져오기 위해서 repository 정보를 입력하고 select Image를 클릭합니다.

   -Registry hostname : docker.io
   -Repository : taewanme/ocidpwsfluentd
   -Tag : latest
![2-7](https://github.com/oraclekr-data-platform/ODWS-S04-ADB-Data-Visualization/assets/150219167/dd21fee0-2210-47b0-bc3d-660927d78606)
![2-7-1](https://github.com/oraclekr-data-platform/ODWS-S04-ADB-Data-Visualization/assets/150219167/0c3b107f-2a7a-45d5-9c70-842a1420481e)

8. Container의 환경변수 9개를 입력합니다. 

   
![2-8](https://github.com/oraclekr-data-platform/ODWS-S04-ADB-Data-Visualization/assets/150219167/d310045d-b203-47c6-b228-16f0d19c9004)

